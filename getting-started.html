<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Mar 24, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="The MyBatis Team" />
    <meta name="Date-Revision-yyyymmdd" content="20130324" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis - 
    MyBatis-Spring | Getting Started</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis-Spring</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="http://mybatis.github.com/images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 24 March 2013</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.2.1-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Reference Documentation</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Getting Started</a>
          </li>
                  
      <li>
    
                          <a href="factorybean.html" title="SqlSessionFactoryBean">
          <i class="none"></i>
        SqlSessionFactoryBean</a>
            </li>
                                                                                                        
      <li>
    
                          <a href="transactions.html" title="Transactions">
          <i class="icon-chevron-right"></i>
        Transactions</a>
                  </li>
                                                                                      
      <li>
    
                          <a href="sqlsession.html" title="Using an SqlSession">
          <i class="icon-chevron-right"></i>
        Using an SqlSession</a>
                  </li>
                                                                                      
      <li>
    
                          <a href="mappers.html" title="Injecting Mappers">
          <i class="icon-chevron-right"></i>
        Injecting Mappers</a>
                  </li>
                  
      <li>
    
                          <a href="using-api.html" title="Using the MyBatis API">
          <i class="none"></i>
        Using the MyBatis API</a>
            </li>
                  
      <li>
    
                          <a href="batch.html" title="Spring Batch">
          <i class="none"></i>
        Spring Batch</a>
            </li>
                  
      <li>
    
                          <a href="sample.html" title="Sample Code">
          <i class="none"></i>
        Sample Code</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2012 The MyBatis Team

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id$ -->

  
    <div class="section"><h2>Getting Started<a name="Getting_Started"></a></h2>
      <p>
        This chapter will show you in a few steps how to install and setup
        MyBatis-Spring and how to build
        a simple transactional application.
      </p>

    <div class="section"><h3>Installation<a name="Installation"></a></h3>
      <p>
        To use the MyBatis-Spring module, you just need to include the
        <tt>
          mybatis-spring-x.x.x.jar
        </tt>
        file and its dependencies in the classpath.
      </p>
      <p>
        If you are using Maven just add the following dependency
        to your
        pom.xml:
      </p>
        <div class="source"><pre class="prettyprint">
&lt;dependency&gt;
  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
  &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</pre></div>
    </div>

    <div class="section"><h3>Quick Setup<a name="Quick_Setup"></a></h3>
      <p>
        To use MyBatis with Spring you need at least two things defined in
        the
        Spring application context: an
        <tt>SqlSessionFactory</tt>
        and
        at least one mapper interface.
      </p>

      <p>
        In MyBatis-Spring, an
        <tt>SqlSessionFactoryBean</tt>
        is used to
        create an
        <tt>SqlSessionFactory</tt>
        . To configure the
        factory bean, put the following in the Spring XML
        configuration file:
      </p>

        <div class="source"><pre class="prettyprint">
&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
  &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;
&lt;/bean&gt;</pre></div>

      <p>
        Notice that the
        <tt>SqlSessionFactory</tt>
        requires a
        <tt>DataSource</tt>
        . This can be any
        <tt>DataSource</tt>
        and should be configured just like any other Spring database
        connection.
      </p>

      <p>
        Assume you have a mapper interface defined like the following:
      </p>
        <div class="source"><pre class="prettyprint">public interface UserMapper {
  @Select(&quot;SELECT * FROM users WHERE id = #{userId}&quot;)
  User getUser(@Param(&quot;userId&quot;) String userId);
} </pre></div>

      <p>
        This interface is added to Spring using a
        <tt>MapperFactoryBean</tt>
        like the following:
      </p>
        <div class="source"><pre class="prettyprint">
&lt;bean id=&quot;userMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;
  &lt;property name=&quot;mapperInterface&quot; value=&quot;org.mybatis.spring.sample.mapper.UserMapper&quot; /&gt;
  &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;
&lt;/bean&gt;</pre></div>

      <p>
        Note that the mapper class specified
        <b>must</b>
        be an
        interface, not an actual implementation class. In this example,
        annotations are used to specify the SQL, but a MyBatis mapper XML
        file
        could also be used.
      </p>

      <p>
        Once configured, you can inject mappers directly into your
        business/service objects in the same way you inject any other Spring
        bean. The <tt>MapperFactoryBean</tt>
        handles creating an <tt>SqlSession</tt>
        as well as closing it. If there is a Spring transaction in
        progress,
        the session will also be committed or rolled back when the
        transaction completes. Finally, any exceptions will be translated
        into Spring <tt>DataAccessException</tt>s.
      </p>

      <p>
        Calling MyBatis data methods is now only one line of code:
      </p>
        <div class="source"><pre class="prettyprint">
public class FooServiceImpl implements FooService {

private UserMapper userMapper;

public void setUserMapper(UserMapper userMapper) {
  this.userMapper = userMapper;
}

public User doSomeBusinessStuff(String userId) {
  return this.userMapper.getUser(userId);
}</pre></div>
      </div>
    </div>
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2010-2013
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
